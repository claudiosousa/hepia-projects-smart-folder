<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Search folder: parser.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Search folder
   </div>
   <div id="projectbrief">System programming semester project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">parser.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Parses a string expression and return a formal representation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for parser.h:</div>
<div class="dyncontent">
<div class="center"><img src="parser_8h__incl.png" border="0" usemap="#parser_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="parser_8h__dep__incl.png" border="0" usemap="#parser_8hdep" alt=""/></div>
<map name="parser_8hdep" id="parser_8hdep">
<area shape="rect" id="node2" href="validator_8h.html" title="Validates files against a parsed criteria expression. " alt="" coords="262,80,345,107"/>
<area shape="rect" id="node9" href="main_8c_source.html" title="main.c" alt="" coords="346,229,407,256"/>
<area shape="rect" id="node11" href="parser_8c.html" title="Parses a string expression and return a formal representation. " alt="" coords="478,80,547,107"/>
<area shape="rect" id="node3" href="finder_8h_source.html" title="finder.h" alt="" coords="97,155,163,181"/>
<area shape="rect" id="node8" href="searchfolder_8h_source.html" title="searchfolder.h" alt="" coords="193,155,297,181"/>
<area shape="rect" id="node10" href="validator_8c.html" title="Critera and operator evaluation functions. " alt="" coords="321,155,403,181"/>
<area shape="rect" id="node4" href="finder_8c_source.html" title="finder.c" alt="" coords="5,229,71,256"/>
<area shape="rect" id="node5" href="linker_8h_source.html" title="linker.h" alt="" coords="95,229,159,256"/>
<area shape="rect" id="node7" href="searchfolder_8c_source.html" title="searchfolder.c" alt="" coords="165,304,269,331"/>
<area shape="rect" id="node6" href="linker_8c_source.html" title="linker.c" alt="" coords="77,304,141,331"/>
</map>
</div>
</div>
<p><a href="parser_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structparser__t.html">parser_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formal expression representation.  <a href="structparser__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a402117b92426b41469190a0d4d4397f0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structparser__t.html">parser_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#a402117b92426b41469190a0d4d4397f0">parser_t</a></td></tr>
<tr class="memdesc:a402117b92426b41469190a0d4d4397f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formal expression representation.  <a href="#a402117b92426b41469190a0d4d4397f0">More...</a><br /></td></tr>
<tr class="separator:a402117b92426b41469190a0d4d4397f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a32088e9f194a33e050822b8c536e03cb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#a32088e9f194a33e050822b8c536e03cb">parser_crit_type_t</a> { <b>OPERATOR</b> = 1 &lt;&lt; 7, 
<b>PARENTHESIS</b> = 1 &lt;&lt; 6, 
<b>CRITERIA</b> = 1 &lt;&lt; 5
 }<tr class="memdesc:a32088e9f194a33e050822b8c536e03cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of expression token.  <a href="parser_8h.html#a32088e9f194a33e050822b8c536e03cb">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a32088e9f194a33e050822b8c536e03cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dcbe7148b91f50b0e7f3e08e780861d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#a4dcbe7148b91f50b0e7f3e08e780861d">parser_crit_t</a> { <br />
&#160;&#160;<b>OR</b> = OPERATOR, 
<b>AND</b>, 
<b>NOT</b>, 
<b>NAME</b> = CRITERIA | 3, 
<br />
&#160;&#160;<b>USER</b>, 
<b>GROUP</b>, 
<b>PERM</b>, 
<b>SIZE</b>, 
<br />
&#160;&#160;<b>ATIME</b>, 
<b>MTIME</b>, 
<b>CTIME</b>, 
<b>LPARENTHESIS</b> = PARENTHESIS, 
<br />
&#160;&#160;<b>RPARENTHESIS</b>
<br />
 }<tr class="memdesc:a4dcbe7148b91f50b0e7f3e08e780861d"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of possible expression tokens.  <a href="parser_8h.html#a4dcbe7148b91f50b0e7f3e08e780861d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a4dcbe7148b91f50b0e7f3e08e780861d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac721d0db2049edef01e62a2e63ff0472"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#ac721d0db2049edef01e62a2e63ff0472">parser_comp_t</a> { <b>MAX</b>, 
<b>MIN</b>, 
<b>EXACT</b>
 }<tr class="memdesc:ac721d0db2049edef01e62a2e63ff0472"><td class="mdescLeft">&#160;</td><td class="mdescRight">The comparator used to evaluate criteria values.  <a href="parser_8h.html#ac721d0db2049edef01e62a2e63ff0472">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac721d0db2049edef01e62a2e63ff0472"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a570f8d50af35e4863518a619ef74d501"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structparser__t.html">parser_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#a570f8d50af35e4863518a619ef74d501">parser_parse</a> (char *expression[], size_t size)</td></tr>
<tr class="memdesc:a570f8d50af35e4863518a619ef74d501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the string expression, converting it to a <code><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></code> representation.  <a href="#a570f8d50af35e4863518a619ef74d501">More...</a><br /></td></tr>
<tr class="separator:a570f8d50af35e4863518a619ef74d501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680ceeada57c4645e365ba1745d41181"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parser_8h.html#a680ceeada57c4645e365ba1745d41181">parser_free</a> (<a class="el" href="structparser__t.html">parser_t</a> *expression)</td></tr>
<tr class="memdesc:a680ceeada57c4645e365ba1745d41181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory allocated for a <code><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></code> instance.  <a href="#a680ceeada57c4645e365ba1745d41181">More...</a><br /></td></tr>
<tr class="separator:a680ceeada57c4645e365ba1745d41181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Parses a string expression and return a formal representation. </p>
<p>Full unit test coverage </p>

<p>Definition in file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a402117b92426b41469190a0d4d4397f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structparser__t.html">parser_t</a>  <a class="el" href="structparser__t.html">parser_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formal expression representation. </p>
<p>Contains the formal representation of the parsed expression in a ordered chained list. Each instance contains the information about a parsed expression token and the pointer to the <code>next</code> parsed expression token.</p>
<p>The order of the tokens in the chained list is not the same as the in the original string representation. Is has been reordered to encoded the priority of the operators and parenthesis in a infix notation </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ac721d0db2049edef01e62a2e63ff0472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="parser_8h.html#ac721d0db2049edef01e62a2e63ff0472">parser_comp_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The comparator used to evaluate criteria values. </p>
<p>Calculated for criteria that accepts the  in the values.</p><ul>
<li>Example: <code>-SIZE +20k</code> or <code>-NAME -.txt</code></li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00060">60</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4dcbe7148b91f50b0e7f3e08e780861d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="parser_8h.html#a4dcbe7148b91f50b0e7f3e08e780861d">parser_crit_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>List of possible expression tokens. </p>
<p>The enum values encode information:</p><ul>
<li>the 3 most significant bits hold the category (operator, criteria or parenthesis)</li>
<li>the 4 least significant bits hold the token order<ul>
<li>must start at 0 and be consecutive</li>
</ul>
</li>
<li>operators are listed by priority ASC<ul>
<li>the encoded priority information is used in the parsing algorithm</li>
</ul>
</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="parser_8h.html#a32088e9f194a33e050822b8c536e03cb" title="Type of expression token. ">parser_crit_type_t</a> </dd>
<dd>
<a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00037">37</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<a class="anchor" id="a32088e9f194a33e050822b8c536e03cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="parser_8h.html#a32088e9f194a33e050822b8c536e03cb">parser_crit_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of expression token. </p>
<p>Used to flag bitwise the <code>parser_crit_t</code> enum values, and later to obtain the category of a given <code>parser_crit_t</code> enum value</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="parser_8h.html#a4dcbe7148b91f50b0e7f3e08e780861d" title="List of possible expression tokens. ">parser_crit_t</a> </dd></dl>

<p>Definition at line <a class="el" href="parser_8h_source.html#l00019">19</a> of file <a class="el" href="parser_8h_source.html">parser.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a680ceeada57c4645e365ba1745d41181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parser_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structparser__t.html">parser_t</a> *&#160;</td>
          <td class="paramname"><em>expression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the memory allocated for a <code><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></code> instance. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expression</td><td>The `parser_t instance to free </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="parser_8c_source.html#l00366">366</a> of file <a class="el" href="parser_8c_source.html">parser.c</a>.</p>

</div>
</div>
<a class="anchor" id="a570f8d50af35e4863518a619ef74d501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structparser__t.html">parser_t</a>* parser_parse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>expression</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the string expression, converting it to a <code><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></code> representation. </p>
<p>This is done in multiple steps:</p><ol type="1">
<li>tokens syntax is verified</li>
<li>criteria values units and comparison characters are verified</li>
<li>a object representation is created for each token</li>
<li>tokens are reordered to an infix notation encoding the operators priority and parenthesis</li>
</ol>
<p>The algorithm used in step <em>4</em> is based on the <a href="https://en.wikipedia.org/wiki/Shunting-yard_algorithm">Shunting yard algorithm</a> (by Edsger Dijkstra). The original algorithm is intended to parse mathematical expressions and was adapt to parse our boolean expressions. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">expression</td><td>The list of tokens forming the expression (space splitted) </td></tr>
    <tr><td class="paramname">size</td><td>The number of elements in <code>expression</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="structparser__t.html" title="Formal expression representation. ">parser_t</a></code> representation of the expression, or <em>NULL</em> is the expression is invalid </dd></dl>

<p>Definition at line <a class="el" href="parser_8c_source.html#l00339">339</a> of file <a class="el" href="parser_8c_source.html">parser.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
